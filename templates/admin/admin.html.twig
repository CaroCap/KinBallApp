{% extends 'base.html.twig' %}

{% block title %}Hello AdminController!{% endblock %}

{% block body %}

{# Bouton de navigation #}
<div class="container">
<ul>
    <li>
        <div class="styleBtn"><a class="nav-link beige-color font-titre" href="{{ path ('app_saison_new') }}">New Saison</a></div>
    </li>
    <li>
        <div class="styleBtn"><a class="nav-link beige-color font-titre" href="{{ path ('app_seance_new2') }}">New Séance</a></div>
    </li>
</ul>
</div>

{# Liste Users #}
<div>
    <h3>Liste des Utilisateurs</h3>
    {# Filtres Saison #}
    <div class="container">
        <ul>
            <li class="menuFiltre"><a href="{{ path ('app_admin') }}">Tous les inscrits</a></li>
        {% for saison in saisons %}
            <li class="menuFiltre"><a href="{{ path ('liste_inscriptions_saison', {id: saison.id}) }}">{{saison.titre}}</a></li>
        {% endfor %}
        </ul>
    </div>
    <div>
        <table class="table">
            <thead>
                <tr>
                    <th></th> {# Photo #}
                    <th>Nom</th>
                    <th>Prénom</th>
                    <th>Genre</th>
                    <th>Date de Naissance</th>
                    <th>Email</th>
                    <th>Téléphone</th>
                    <th>Adresse</th>
                    <th>Accord Photo</th>
                    <th>Rôles</th>
                    <th>
                        {# actions edit / show #}
                    </th>
                </tr>
            </thead>
            <tbody>
            {% for user in users %}
                <tr>
                <td><img class="photoListing" src="{{ asset ('upload/photoUser/' ~ user.photo ) }}" alt="photo"></td>
                <td>{{ user.nom }}</td>
                <td>{{ user.prenom }}</td>
                <td>{{ user.genre ? 'F' : 'H' }}</td>
                <td>{{ user.dateNaissance|date("d / m / Y") }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.telephone }}</td>
                <td>{{ user.numero }} {{ user.rue }} {{ user.codePostal }} {{ user.ville }}</td>
                <td>
                    {% if user.accordPhoto %}
                        Ok
                    {% else %}
                        No
                    {% endif %}
                </td>
                <td>
                    {% for role in user.roles %}
                        {{ role }}<br>
                    {% endfor %}
                </td>
                <td>
                    <a href="{{ path('app_user_show', {'id': user.id}) }}">show</a>
                    <a href="{{ path('app_user_edit', {'id': user.id}) }}">edit</a>
                </td>
                </tr>
            {% endfor %} 
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
